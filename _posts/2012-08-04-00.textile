---
layout:     post
title:      "Прошивка для Siemens SL2-141-I с поддержкой Annex_A"
tagline:    ""
category:   ""
group:      router
tags:       [hwmod, broadcom, firmware]
---


h3. Описание

p. Как-то возникла необходимость перешить большую партию модемов Siemens SL2-141-I, привезенных из Германии. Модемы поддерживали только Annex_B под местного оператора, а у нас локально используется Annex_A.

p. Модем собран на SoC Broadcom BCN6348, имеет 16 MB RAM и 4 MB FLASH.

!/images/2012080401.jpg!

p. Прошивка делалась из свежайших исходников Siemens/Dynalink/ZTE. Из дополнительных возможностей стоит отметить поддержку VLAN, multi-SSID, сервиса FlyMon и т.д.

p. Прошивку можно скачать "тут":http://www.flyrouter.net/downloads/software/siemens2141/firmware/modem_POTS_Annex-A/ , обсуждение доступно на "forum.ru-board.com":http://forum.ru-board.com/topic.cgi?forum=81&topic=2052&start=640 .

p. В настоящее время, обновленную прошивку с поддержкой Annex_A можно залить только имея возможность остановить загрузку существующей прошивки через консоль.

p. Дело в том, что режим TFTP emergency, когда можно заливать сторонние прошивки, включается только через консоль. При работающем в нормальном режиме модеме, заменить прошивку через telnet/tftp не удастся.

p. Подключите к модему консольный кабель на маленький белый 4-х контактный разъем (подходит от аудио-кабелей, идущих в комплекте с ПК).

p. На приведенном фото нумерация снизу вверх, т.е. внизу, ближе к чипу Broadcom - pin1, а вверху вверху - pin4.

| 1 - RXD | 2 - TXD | 3 - GND | 4 +3,3V |
|         |         |         |         |

p. В качестве консольного кабеля можно использовать data-кабель от старой мобилки, SIM-card ридер на базе PL232 или любой TTL-UART.

p. Запустите программу гипертерминал или putty/kitty с параметрами порта 8n1 115200, а затем подайте питание на модем и при появлении данной строки

pre. ==== Press space key to stop auto run (1 seconds) ====

p. несколько раз нажмите пробел.

p. Этим вы остановите загрузку текущей прошивки, и можно будет залить прошивку стороннего производителя (нашу) через web-интерфейс.

p. После заливки новой прошивки рекомендуем сбросить все настройки кнопкой Reset на задней панели модема.
