---
layout:     post
title:      "WiFi scales или COM-порт без проводов"
tagline:    ""
category:   ""
group:      drafts
tags:       [scales, tplink, zftlab]
---


h3. Описание проекта

p. Понадобилось одному заказчику передавать данные с весов, работающих на складе, в ПК. И не просто передавать, а по WiFi. Ниже фото уже полностью готового изделия.

!/images/2013010502.jpg!

p. Так как была поставлена задача (в будущем) мониторить их работоспособность и наличие трафика на COM-порту, без "FlyMon DMS":http:monitor.flymon.net не обошлось.

!/images/2013010501.jpg!

p. Предоставленные мне для разработки весы имеют урезанный порт RS232 (RXD, TXD, GND) и необходимую полость (о чудо !) для установки платы от WiFi роутера. Правда с подборами платы, подходящей по размерам, пришлось повозиться.

!/images/2013010503.jpg!

p. Для того, что-бы плата стала в корпусе как родная пришлось выпаять десяток деталей (разъемы RJ45, трансформаторы, разъем и кнопка питания и т.д.).

!/images/2013010504.jpg!

p. Так-же была разработана плата *SerCom*, которая помимо преобразования уровня сигналов TTL в RS232 осуществляет и их коммутацию по команде от GPIO роутера. 

!/images/2013010505.jpg!

p. Дело в том, что даже при отключенном выводе отладочной информации при загрузке ядра, в консоль, используемую теперь как беспроводной удлинитель COM-порта, сыпалась информация от бутлоадера, а так-же просто мусор (при вкл.-выкл. устройства).

!/images/2013010506.jpg!

p. Между собой, плата роутера и плата весов соединяются по трех-жильному кабелю RS232 и проводу питания, с разъемами на концах.

!/images/2013010507.jpg!

p. После тестирования опытного образца, заказчик остался очень доволен и продолжил интересный диалог. Но это уже совсем другая история...

!/images/2013010508.jpg!

---

h3. Внутренние ссылки

* -

---

h3. Внешние ссылки

* "Старая ссылка статьи на blog.flyrouter.net":http://blog.flyrouter.net/2013/01/wifi-scales-com.html



