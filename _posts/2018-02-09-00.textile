---
layout:     post
title:      "Экспериментальные Open Source прошивки для устройств Xiong Mai"
tagline:    ""
category:   ""
group:      ipcam
tags:       [hi3516c, ipcam, zftlab]
---


h3. Введение

p. Материал по проекту находится в стадии оформления. Последнее обновление - 2018.02.09

p{color:red}. Используя данный Сайт, Вы выражаете свое согласие с "«Отказом от ответственности»":/disclaimer.html и принимаете всю ответственность за выполняемые действия с оборудованием и программным обеспечением на себя !

p{color:blue}. Просьба - при использовании материалов с сайта в своих проектах, указывать первоисточник. Спасибо!

---

p. В тестовых прошивках пока нет поддержки Video, запись на FLASH не производится, старт системы происходит только из памяти.

p. На данный момент только тестируются: возможность загрузки ядра Linux на разных типах процессоров Hisilicon, минимальная файловая система, автоматическое детектирование сенсоров и работа сетевого интерфейса Ethernet.

p. Данные прошивки являются промежуточными перед созданием последующих уже в среде разработки OpenWrt и предназначены только для опытных пользователей, умеющих работать с UART консолью и командами U-boot.

---

h3. Архив прошивок

p. Экспериментальные Open Source прошивки (без поддержки Video, только ядро и сеть).

|<. Для любых устройств XM на базе HI3518Cv1 и HI3518Ev1 |=. "тестирование":http://flyrouter.net/downloads/software/ipcam/Open_Source_Project/HI_SoC_v1/ |
|<. Для любых устройств XM на базе HI3518Cv2 и HI3518Ev2 |=. "тестирование":http://flyrouter.net/downloads/software/ipcam/Open_Source_Project/HI_SoC_v1/ |
|<. Для любых устройств XM на базе HI3520v1 и HI3521v1   |={color:orange}. в разработке                                                                  |
|<. Для любых устройств XM на базе HI3520v2              |={color:orange}. в разработке                                                                  |
|                                                        |                                                                                               |

p. Тестирование выполнено успешно на IPCam: 06510, 18510, 18520

p. Тестирование выполнено успешно на NVR: 00117

---

h3. Компоненты для разработчиков

p. Готовые для использования программы и библиотеки доступны по "ссылке":http://flyrouter.net/downloads/software/ipcam/For_Developers/

---

h3. Загрузка экспериментальных прошивок

p. Настройте TFTP сервер и положите на него соответствующий фаил uImage

p. Выполните в консоли, нажав Ctrl+C для остановки загрузки ядра после подачи питания на модуль

pre. #
set serverip 192.168.1.254                     // Устанавка адреса TFTP сервера
tftp 0x82000000 uImage                         // Загрузка в память экспериментальной системы
setenv bootargs mem=40M console=ttyAMA0,115200 // Установка переменных для передачи ядру
bootm 0x82000000                               // Старт системы из памяти

p. После загрузки устройство имеет адрес 192.168.1.15/24. Для изменения выполните команды ниже.

pre. #
vi /etc/network/interfaces                     // Установка сетевых настроек
/etc/init.d/S40network restart                 // Рестарт сетевого интерфейса

p. Пароль для root не установлен. Выполните *passwd root* для необходимости доступа через SSH.

p. -RTSP потоки доступны по адресам rtsp://192.168.1.15:554/0 и rtsp://192.168.1.15:554/1- (отключено!)

p. Посылая сигнал -SIGUSR1 демону snapshotd можно добиться получения снимков (тестовая функция)

pre. # snapshotd -p /tmp/ -f snap.jpg rtsp://127.0.0.1:554/0        // запуск демона в консоли

p. Альтернативный вариант для получения снапшотов и роликов - использовать утилиту *sample_venc*

---

h3. Внутренние ссылки

<ul>
  {% assign pages_list = site.posts %}
  {% assign group = 'ipcam' %}
  {% include JB/pages_list %}
</ul>

---

h3. Внешние ссылки

* "ZFT Lab. & Yandex.Disk: Китайские SDK для процессоров Hisilicon":https://yadi.sk/d/bFlKO3843SFV8v/SDK
