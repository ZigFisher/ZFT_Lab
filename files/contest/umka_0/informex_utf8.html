<!DOCTYPE html>
<html lang="en" >
<head>
<meta charset="utf-8" />
</head>

<pre>
Добрый день. Задача для птичника, по степени важности.

Управление вентиляцией по температуре и влажности.
1. Получаем значение T и H с датчика DHT22.
2. Получаем уличную температуру с DS18B20 (у него можно линию длинную делать).
3. Если влажность выше заданного порога (пусть 70%), то включаем вентиляцию.
4. Если температура в помещении выше 30 градусов, а температура снаружи ниже 30 градусов, то включаем вентиляцию, иначе бессмысленно.
5. Если значение аналогового сигнала выше заданного уровня, то включаем вентиляцию.
6. Вентиляция включается на заданный промежуток времени. Пусть на 20 минут. У меня длительность зависит от разности температур внутри и снаружи, но пусть так.
7. Вентиляция принудительно отключается раньше заданного промежутка, если температура в помещении снизилась до заданных 17 градусов.
8. Нужно выдержать интервал в 5 минут перед началом следующих измерений.

Управление освещением.
1. Включаем свет в 7 часов.
2. Отключаем свет в 23 часа.
3. Отключаем свет если и так светло, с анадогового пина или лучше по показаниям BH1750.
4. Добавляем "антидребезг" для датчика освещения, чтобы на мух не срабатывал.
5. Включаем свет с пульта или смартфона в ночное время по команде (тут вроде все уже реализовано).
</pre>

<pre>
Готовое устройство на первой версии платы установлено в помещении птичника и выполняет функции логгера 
температуры (в 3 комнатах и снаружи), влажности и атмосферного давления в птичнике, включает вентиляцию и освещение 
в заданное время, так же управляет обогревом. Делалось быстро, чтобы проверить работу новой платы в деле и это не 
окончательный вариант, поэтому такой монтаж. Прилагаю подписанные фотографии и кота.

С уважением Роман.
</pre>
</html>
